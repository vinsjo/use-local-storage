import{useState as t,useEffect as r}from"react";import{decode as o,encode as n}from"safe-json-decode";const e=function(t,r){void 0===r&&(r=!1);try{const r=localStorage.getItem(t);return null===r?null:o(r)||r}catch(t){if(r)throw t;return null}},c=function(t,r,o){void 0===o&&(o=!1);try{const o=r instanceof Object||Array.isArray(r)?n(r):r;return localStorage.setItem(t,o),!0}catch(t){if(o)throw t;return!1}},u=function(t,r){void 0===r&&(r=!1);try{return localStorage.removeItem(t),!0}catch(t){if(r)throw t;return!1}},i=function(o,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);const[a,l]=t(!1),[f,s]=t(o),[d,m]=t(()=>{const t="function"==typeof n?n():n,r=e(f);return i||!r&&n!==r?t:r});return r(()=>{a&&o!==f&&(u(f),s(o))},[a,o,f,s]),r(()=>{c(f,d)},[d,f]),r(()=>{l(!0)},[]),[d,m]};export{i as default,e as getStoredItem,u as removeStoredItem,c as setStoredItem};
//# sourceMappingURL=index.esm.js.map
