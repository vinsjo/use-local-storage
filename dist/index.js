import{decode as t,encode as r}from"safe-json-decode";import{useState as e,useEffect as o}from"react";const n=(r,e=!1)=>{try{const e=localStorage.getItem(r);return null===e?null:t(e)||e}catch(t){if(e)throw t;return null}},c=(t,e,o=!1)=>{try{const o=e instanceof Object||Array.isArray(e)?r(e):e;return localStorage.setItem(t,o),!0}catch(t){if(o)throw t;return!1}},a=(t,r=!1)=>{try{return localStorage.removeItem(t),!0}catch(t){if(r)throw t;return!1}},l=(t,r=null,l=!1)=>{const[u,s]=e(!1),[f,i]=e(t),[m,h]=e(()=>{const t="function"==typeof r?r():r,e=n(f);return l||!e&&r!==e?t:e});return o(()=>{u&&t!==f&&(a(f),i(t))},[u,t,f,i]),o(()=>{c(f,m)},[m,f]),o(()=>{s(!0)},[]),[m,h]};export{l as default,n as getStoredItem,a as removeStoredItem,c as setStoredItem};
//# sourceMappingURL=index.js.map
