!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("safe-json-decode"),require("react")):"function"==typeof define&&define.amd?define(["exports","safe-json-decode","react"],t):t((e||self).useLocalStorage={},e.safeJsonDecode,e.react)}(this,function(e,t,o){const n=function(e,o){void 0===o&&(o=!1);try{const o=localStorage.getItem(e);return null===o?null:t.decode(o)||o}catch(e){if(o)throw e;return null}},r=function(e,o,n){void 0===n&&(n=!1);try{const n=o instanceof Object||Array.isArray(o)?t.encode(o):o;return localStorage.setItem(e,n),!0}catch(e){if(n)throw e;return!1}},c=function(e,t){void 0===t&&(t=!1);try{return localStorage.removeItem(e),!0}catch(e){if(t)throw e;return!1}};e.default=function(e,t,f){void 0===t&&(t=null),void 0===f&&(f=!1);const[u,s]=o.useState(!1),[i,a]=o.useState(e),[d,l]=o.useState(()=>{const e="function"==typeof t?t():t,o=n(i);return f||!o&&t!==o?e:o});return o.useEffect(()=>{u&&e!==i&&(c(i),a(e))},[u,e,i,a]),o.useEffect(()=>{r(i,d)},[d,i]),o.useEffect(()=>{s(!0)},[]),[d,l]},e.getStoredItem=n,e.removeStoredItem=c,e.setStoredItem=r});
//# sourceMappingURL=index.umd.js.map
