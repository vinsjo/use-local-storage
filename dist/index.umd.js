!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("safe-json-decode"),require("react")):"function"==typeof define&&define.amd?define(["safe-json-decode","react"],t):(e||self).useLocalStorage=t(e.safeJsonDecode,e.react)}(this,function(e,t){return function(o,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);const[c,f]=t.useState(!1),[u,i]=t.useState(o),[a,s]=t.useState(()=>{const t="function"==typeof n?n():n,o=function(t,o){void 0===o&&(o=!1);try{const o=localStorage.getItem(t);return null===o?null:e.decode(o)||o}catch(e){if(o)throw e;return null}}(u);return r||!o&&n!==o?t:o});return t.useEffect(()=>{c&&o!==u&&(function(e,t){void 0===t&&(t=!1);try{localStorage.removeItem(e)}catch(e){if(t)throw e;return!1}}(u),i(o))},[c,o,u,i]),t.useEffect(()=>{!function(t,o,n){void 0===n&&(n=!1);try{const n=o instanceof Object||Array.isArray(o)?e.encode(o):o;localStorage.setItem(t,n)}catch(e){if(n)throw e;return!1}}(u,a)},[a,u]),t.useEffect(()=>{f(!0)},[]),[a,s]}});
//# sourceMappingURL=index.umd.js.map
